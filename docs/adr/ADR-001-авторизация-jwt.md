# ADR-001: Реализация аутентификации и авторизации с использованием JWT

## Статус
Принято

## Контекст
Необходимо обеспечить безопасный доступ к API системы бронирования парковочных мест. Без аутентификации невозможно разграничить права пользователей и обеспечить безопасность данных.

## Решение
Использовать JWT для аутентификации с параметрами:
- Алгоритм подписи: HS256
- Время жизни access token: 24 часа (refresh-токены не используются, вместо этого реализован deny-list)
- Секретный ключ обязателен и задаётся через переменную окружения `JWT_SECRET_KEY` (минимум 32 символа)
- Токены проверяются в dependency `get_current_user`, которое также проверяет deny-list (`revoked_tokens`)

## Последствия
### Положительные
- Стандартизированный подход к аутентификации
- Масштабируемость
- Поддержка мобильных клиентов

### Отрицательные
- Необходимость хранения deny-list (`revoked_tokens`) и периодической очистки
- Требуется централизованное управление секретом окружения

## Связи
- **NFR**: SEC-001 (Аутентификация API)
- **Угрозы**: F6 (Spoofing), R-03 (Кража JWT токенов)
- **Тесты**: `tests/test_auth.py`
- **Код**: `app/auth/jwt_handler.py`, `app/auth/dependencies.py`, `app/api/auth.py`
