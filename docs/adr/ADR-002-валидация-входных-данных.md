# ADR-002: Строгая валидация входных данных

## Статус
Принято

## Контекст
Невалидированные входные данные представляют угрозу безопасности. Для системы бронирования критически важна целостность данных о парковочных местах и бронированиях.

## Решение
Реализовать многоуровневую валидацию:
1. **Pydantic схемы** для валидации типов и форматов
2. **Кастомные валидаторы** для бизнес-логики
3. **SQLAlchemy ORM** для защиты от SQL-инъекций
4. **Sanitization** строковых полей от потенциально опасных символов

Конкретные правила:
- Даты бронирования не могут быть в прошлом
- Коды парковочных мест: только буквы и цифры, 2-10 символов
- Email валидация по RFC
- Ограничение длины строковых полей

## Последствия
### Положительные
- Защита от распространенных уязвимостей
- Чистота данных в системе
- Предсказуемое поведение API

### Отрицательные
- Усложнение кода валидации
- Необходимость обработки ошибок валидации

## Связи
- **NFR**: SEC-003 (Валидация входных данных)
- **Угрозы**: F8 (Tampering), R-01 (SQL инъекции), R-11 (Невалидные данные)
- **Тесты**: `tests/test_validation.py`
- **Код**: `app/schemas/validation.py`, `app/auth/dependencies.py`
